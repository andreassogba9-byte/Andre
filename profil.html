<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Profil</title>
  <link rel="stylesheet" href="style.css">
  <script type="module" src="supabase.js"></script>
</head>
<body>
  <header>
    <h1>Mon Profil</h1>
    <nav>
      <a href="index.html">Accueil</a>
      <a href="produits.html">Produits</a>
      <a href="commandes.html">Commandes</a>
    </nav>
  </header>
  <div class="container">
    <h2>Informations utilisateur</h2>
    <pre id="infos"></pre>
    <button id="logout">Se d√©connecter</button>
  </div>

  <script type="module">
    import { supabase } from './supabase.js'

    async function chargerProfil() {
      let { data: { user } } = await supabase.auth.getUser()
      document.getElementById("infos").textContent = JSON.stringify(user, null, 2)
    }

    document.getElementById("logout").onclick = async () => {
      await supabase.auth.signOut()
      window.location.href = "index.html"
    }

    chargerProfil()
  </script>
</body>
</html>
